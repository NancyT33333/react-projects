{"version":3,"file":"static\\development\\pages\\snake-game.js","sources":["webpack:///webpack/bootstrap","webpack:///./pages/snake-game/components/Board.js","webpack:///./pages/snake-game/components/Keyboard.js","webpack:///./pages/snake-game/components/LostWindow.js","webpack:///./pages/snake-game/components/Pixel.js","webpack:///./pages/snake-game/components/Start.js","webpack:///./pages/snake-game/index.jsx","webpack:///external \"react\"","webpack:///external \"styled-jsx/style\""],"sourcesContent":[" \t// The module cache\n \tvar installedModules = require('../../../ssr-module-cache.js');\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tvar threw = true;\n \t\ttry {\n \t\t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n \t\t\tthrew = false;\n \t\t} finally {\n \t\t\tif(threw) delete installedModules[moduleId];\n \t\t}\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","import React from 'react';\r\nimport Pixel from './Pixel';\r\n\r\n\r\nfunction Board(props) {\r\n    \r\n    const isEqual = function (a, b) {\r\n      // if length is not equal \r\n      if( a.length != b.length ) {\r\n        return false; \r\n        }\r\n      else\r\n      { \r\n      // comapring each element of array \r\n        for( var i = 0; i < a.length; i++ ) {\r\n            if( a[i] != b[i] ) \r\n            return false; \r\n            }\r\n        return true; \r\n      } \r\n    }\r\n    const showPixels = function () {   \r\n            \r\n        return  props.state.board.map(function (el, index) { \r\n              const coord = [ Math.floor(index/10), index%10  ];\r\n\r\n            // проверка в apples наличия el, штриховка красным \r\n               if (isEqual(props.state.apples, coord) ) {\r\n                  return <Pixel el={index} className='apple' key={index} coord={coord}/>\r\n               }\r\n                 // проверка в rocks наличия el, штриховка черным \r\n               if (props.state.rocks.find((el) => {return isEqual(el, coord)}) ) {\r\n                return <Pixel el={index} className='rock' key={index} coord={coord}/>\r\n             }\r\n             if (props.state.snake.find((el) => {return isEqual(el, coord)}) ) {\r\n              return <Pixel el={index} className='snake' key={index} coord={coord}/>\r\n           }\r\n                return <Pixel el={index}  key={index} coord={coord}/>\r\n            })\r\n     }; \r\n\r\n    return (\r\n      <div className=\"Board\">\r\n        \r\n         {showPixels()} \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Board;\r\n  ","import React from 'react';\r\n\r\nexport default function Keyboard (props) {\r\n\r\n\r\n    const handleClick = function (dir) {\r\n        props.dir.setDirection(dir);\r\n       \r\n    }\r\n    return (\r\n        <div className='keyboard'>\r\n            <div type=\"button\" className='keyboard-inner-box' >\r\n              <button className=\"btn-arrow\" onClick={()=>{handleClick('up')}}> &uarr; </button>\r\n            </div>\r\n            <div className='keyboard-inner-box'>\r\n                <button type=\"button\" className=\"btn-arrow \" onClick={()=>{handleClick('left')}}>  &larr; </button>\r\n                <button type=\"button\" className=\"btn-arrow \" onClick={()=>{handleClick('right')}}> &rarr; </button>\r\n              \r\n            </div>\r\n           \r\n            <div className='keyboard-inner-box'>                \r\n                <button type=\"button\" onClick={()=>{handleClick('down')}} className=\"btn-arrow \"> &darr; </button>\r\n            </div>\r\n           \r\n                        \r\n        </div>\r\n    )\r\n}","import React from 'react';\r\n\r\n\r\n\r\nexport default function LostWindow (props) {\r\n\r\n\r\n    return (<div className=\"lost-window\">\r\n        <button onClick={props.onPressStartAgain}></button>\r\n    </div>)\r\n}","import React from 'react';\r\n\r\n\r\nfunction Pixel(props) {\r\n\r\n    const cssClass = \"Pixel \" + props.className; \r\n    return (\r\n      <div className={cssClass}>\r\n       \r\n      </div>\r\n    );\r\n  }\r\n  \r\n  export default Pixel;\r\n  ","import React from 'react';\r\n\r\nexport default function StartGame (props) {\r\n\r\n    return (\r\n        <button className=\"start-button\" type='button' onClick={props.onStart}>Start the Game</button>\r\n    )\r\n}","import React, {useState, useRef} from 'react';\n\n// import './App.css';\nimport Board from './components/Board';\nimport Keyboard from './components/Keyboard';\nimport StartGame from './components/Start';\nimport LostWindow from './components/LostWindow';\n\n\nfunction App() {\n  \n  const [apples, setApples] = useState([1,8]);\n  const [rocks, setRocks] = useState([[0,1]]);\n  const [snake, setSnake] =  useState([[1,2], [1,3], [1,4]]);\n  const [direction, setDirection] = useState (\"right\");\n  const [bLost, setBLost] = useState(false);\n  const snakeRef = useRef(snake);\n  snakeRef.current = snake;\n  const dirRef = useRef(direction);\n  dirRef.current = direction;\n  const applesRef = useRef(apples);\n  applesRef.current = apples;\n  const [fieldWidth, setFieldWidth] = useState(10);  \n\n  const bArrEqual = function (a, b) {\n    // if length is not equal \n    if( a.length != b.length ) {\n      return false; \n      }\n    else\n    { \n    // comparing each element of array \n      for( var i = 0; i < a.length; i++ ) {\n          if( a[i] != b[i] ) \n          return false; \n          }\n      return true; \n    } \n  }\n//============================================================================\n  const onStart = function () {  \n    let timerId = setTimeout(function move () {\n    //=============================start of move======================================\n      let tmp_snake, nextStep ;\n      let snake = snakeRef.current;\n      setSnake([[1,2], [1,3], [1,4]]);  // resetting to default value\n\n      //============================start of check collision==============================\n      const checkCollison = function () { // returns true if collision\n        switch (dirRef.current) {\n          case \"right\":\n            nextStep = [snake[snake.length-1][0], snake[snake.length-1][1]+1];\n            for (let i = 0; i < rocks.length; i++) {\n              if (bArrEqual(rocks[i], nextStep )) {\n                 return true \n                }                \n            }  \n            return checkForSelfCollision(nextStep) ? true : false;\n\n            \n          case \"down\":            \n\n            nextStep = [snake[snake.length-1][0]+1, snake[snake.length-1][1]];\n            for (let i = 0; i < rocks.length; i++) {\n              if (bArrEqual(rocks[i], nextStep )) {\n                 return true \n                }\n            }              \n            return checkForSelfCollision(nextStep) ? true : false;\n          case \"left\":            \n\n            nextStep = [snake[snake.length-1][0], snake[snake.length-1][1]-1];\n            for (let i = 0; i < rocks.length; i++) {\n              if (bArrEqual(rocks[i], nextStep )) {\n                 return true ;\n                }\n            }              \n            return checkForSelfCollision(nextStep) ? true : false;\n          case \"up\":             \n\n            nextStep = [snake[snake.length-1][0]-1, snake[snake.length-1][1]];\n            for (let i = 0; i < rocks.length; i++) {\n              if (bArrEqual(rocks[i], nextStep )) {\n                 return true \n                }\n            }              \n            return checkForSelfCollision(nextStep) ? true : false;\n        }\n      };\n\n      const checkForSelfCollision = function (nextStep) {\n        for (let j = 0; j < snake.length; j++) {\n          if (bArrEqual(nextStep, snake[j])) { return true };\n        }\n        return false;\n      };\n\n      //===========================end of check for collision===========================\n      switch (dirRef.current) {\n      \n        case \"right\":     \n            if ((snake[snake.length-1][1]+1 !== fieldWidth) && (!checkCollison())) {            \n              tmp_snake = snake.slice(1);\n              tmp_snake.push([snake[snake.length-1][0], snake[snake.length-1][1]+1]);            \n              setSnake(tmp_snake);           \n              timerId = setTimeout(move, 500);           \n              break;\n          } else {\n            alert(\"you loose!\");\n            // setBLost(true);\n            return\n          }\n          \n        case \"down\":\n          if ((snake[snake.length-1][0]+1 !== fieldWidth) && (!checkCollison())) {            \n            tmp_snake = snake.slice(1);\n            tmp_snake.push([snake[snake.length-1][0]+1, snake[snake.length-1][1]]);            \n            setSnake(tmp_snake);           \n            timerId = setTimeout(move, 500);           \n            break;\n        } else {\n          alert(\"you loose!\");\n          // setBLost(true);\n          return\n        }\n\n        case \"left\":\n            if ( (snake[snake.length-1][1]-1 !== -1) && !checkCollison() ) {            \n              tmp_snake = snake.slice(1);\n              tmp_snake.push([snake[snake.length-1][0], snake[snake.length-1][1]-1]);            \n              setSnake(tmp_snake);           \n              timerId = setTimeout(move, 500);           \n              break;\n          } else {\n            alert(\"you loose!\");\n            // setBLost(true);\n            return\n          }\n          \n        case 'up':\n            if ( (snake[snake.length-1][0]-1 !== -1) && (!checkCollison()) ) {   \n              // const next_step = ...; checkCollision(next_step), checkApple(next_step)\n              \n              tmp_snake = snake.slice(1);\n              tmp_snake.push([snake[snake.length-1][0]-1, snake[snake.length-1][1]]);            \n              setSnake(tmp_snake);           \n              timerId = setTimeout(move, 500);           \n              break;\n          } else {\n            alert(\"you loose!\");\n            // setBLost(true);\n            return\n          }\n         \n      }\n      //=====================logic for eating apples==============================\n      const lastAddedPixel = [tmp_snake[tmp_snake.length-1][0], tmp_snake[tmp_snake.length-1][1]];\n     \n        if (bArrEqual(applesRef.current, lastAddedPixel)) {            //if last added pixel was an apple - grow          \n            setSnake([snake[0], ...tmp_snake]);   // !! \n       \n            function createApple() {  \n              const x = random(0, 9);\n              const y = random(0, 9);              \n              setApples( [x,y]);\n              tmp_snake.concat(rocks).forEach(function isAppleOnSnake(part) {    \n                const foodIsOnSnake = part[0] == applesRef.current[0] && part[1] == applesRef.current[1] ; \n                 if (foodIsOnSnake)   {   createApple();  };\n               });\n            }  \n            createApple();\n            \n        }\n\n      \n\n      //====================end of move================================\n    }, 500);\n  }\n  function random(min, max) { \n    return Math.round((Math.random() * (max-min) + min));\n  }\n\n \n \n\n  function showLostWindow () {\n    return bLost ? <LostWindow onPressStartAgain={()=>{setBLost(false)}}></LostWindow> : null;\n  }\n\n  function onKeyPressed(key) {\n    switch (key) {\n      case 'ArrowUp':\n        return 'up';\n      case 'ArrowDown':\n       return 'down';\n      case 'ArrowLeft':\n        return 'left';\n      case 'ArrowRight':\n        return 'right';\n    }\n  }\n\n  \n  return (\n \n      <div className=\"App\" onKeyDown = {(e) => setDirection(onKeyPressed(e.key))} tabIndex=\"0\">\n         <style jsx global>{`\n      .App {\n        text-align: center;\n        display: block;\n      \n      }\n      body {\n        margin: 0;\n        /* font-family: -apple-system, BlinkMacSystemFont, \"Segoe UI\", \"Roboto\", \"Oxygen\",\n          \"Ubuntu\", \"Cantarell\", \"Fira Sans\", \"Droid Sans\", \"Helvetica Neue\",\n          sans-serif; */\n      \n          font-family: 'VT323', monospace;\n      \n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        background: black;\n      }\n      \n      code {\n        font-family: source-code-pro, Menlo, Monaco, Consolas, \"Courier New\",\n          monospace;\n      }\n      \n      .Pixel {\n        width: 10px;\n        height: 10px;\n        border: 1.5px solid white;\n        display: inline-block;\n        margin: 0px;\n      }\n      \n      .apple {\n        background-color: #F20505;\n        border-radius: 50%;\n      }\n      \n      .rock {\n        background-color: gray;\n        border-radius: 50%;\n        \n      }\n      \n      .snake {\n        background-color: #15ff00;\n      }\n      \n      .Board {\n        width: 130px;\n        height: 130px;\n        \n        display: block;\n        margin: 13vh auto 5vh;\n        line-height: 0%;\n      \n      }\n      \n      .white {\n        background: white;\n      }\n      \n      .keyboard {\n        \n        position: fixed;\n        left: 0;\n        top: 50%;\n        width: 100%;\n        \n        margin: 0 auto; \n        display: flex;\n        justify-content: center;\n        flex-direction: column;\n        align-items: center;\n        \n        \n      }\n      \n      .keyboard-inner-box {\n        \n        width: 135px;\n        display: flex;\n        justify-content: center;\n        \n      }\n      \n      .keyboard-inner-box:nth-of-type(2) {\n        justify-content: space-between;\n      }\n      \n      .btn-arrow {\n        padding: 0 20px;\n        font-family: 'VT323', monospace;\n        font-size: 1.5rem;\n        color: \t#A9A9A9;\n        width: 35px;\n        height: 44px;\n        border-radius: 0%;\n        text-indent: -8px;\n      \n      }\n      \n      .start-button {\n        color: #03FE03;\n        font-size: 2em;\n        font-family: 'VT323', monospace;\n        text-decoration: underline;\n        background-color: rgba(0,0,0,0);\n      }\n      \n      .lost-window {\n        \n          display: block;\n          width: 150px;\n          height: 150px;\n          position: fixed;\n      \n          background-color: #33414E;\n          text-align: center;\n          bottom: calc(50% - 75px);\n          left: calc(50% - 75px);   \n          box-shadow: 9px 10px 16px -12px rgba(0,0,0,0.75);\n      }\n     `}</style>\n\n        <StartGame onStart={onStart}></StartGame>\n          <Board state={{board: Array(100).fill(0),\n              apples,\n              rocks,\n              snake,\n              setApples,\n              setRocks,\n              setSnake, direction, setDirection\n              }} >  </Board>\n\n            <Keyboard dir={{direction, setDirection}}  />\n\n            {showLostWindow()}  {/* is it legal? */}\n            \n          \n      </div>\n    \n  );\n}\n\nexport default App;\n","module.exports = require(\"react\");","module.exports = require(\"styled-jsx/style\");"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACxFA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AACA;AACA;;;;;;;;;;;;;;;;;;ACjDA;AAEA;AAGA;AACA;AAEA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;;;;;;;;;;;;;;;AC3BA;AAIA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;;;;;;;;;;;;;;ACVA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;;;;;;;;;;;;;;;;;;ACbA;AAEA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;ACPA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AArCA;AAuCA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvDA;AACA;AACA;AAwDA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AADA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AAIA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AARA;AAUA;AACA;AAEA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AANA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;AC/VA;;;;;;;;;;;ACAA;;;;A","sourceRoot":""}